{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CobolSmartGen program plan",
  "type": "object",
  "additionalProperties": true,
  "properties": {
    "programs": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["program_id", "couche"],
        "additionalProperties": true,
        "properties": {
          "program_id": { "type": "string" },
          "entity": { "type": "string" },
          "couche": {
            "type": "string",
            "enum": ["business", "logic", "dal", "BUSINESS", "LOGIC", "DAL"]
          },
          "procedures": {
            "type": "array",
            "items": {
              "type": "object",
              "required": ["name"],
              "additionalProperties": true,
              "properties": {
                "name": { "type": "string" },
                "goal": { "type": "string" },
                "constraints": { "type": "string" }
              }
            }
          },
          "copybooks": {
            "type": "array",
            "items": { "type": "string" }
          },
          "deps": {
            "type": "array",
            "items": { "type": "string" }
          },
          "dialecte": { "type": "string" },
          "sql_cible": { "type": "string" },
          "nommage": { "type": "object" }
        }
      }
    }
  }
}
