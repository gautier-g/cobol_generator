```json
[
"EXEC SQL DECLARE C_REP CURSOR FOR",
"    SELECT REPAS_ID, REPAS_ID_ACTIVITE, REPAS_TYPE, REPAS_NBREPAS",
"    FROM REPAS",
"    ORDER BY REPAS_ID",
"END-EXEC",
"IF NOT WS-CURSOR-OPEN",
"    EXEC SQL OPEN C_REP END-EXEC",
"    IF SQLCODE NOT EQUAL ZERO",
"        DISPLAY 'ERREUR OPEN: SQLCODE=' SQLCODE",
"        MOVE 'Y' TO LK-END-OF-FILE",
"        EXEC SQL ROLLBACK END-EXEC",
"        GOBACK",
"    END-IF",
"    MOVE 'Y' TO WS-CURSOR-OPEN-FLAG",
"    DISPLAY 'Curseur C_REP ouvert'",
"END-IF",
"EXEC SQL FETCH C_REP INTO",
"    :WS-REPAS-ID,",
"    :WS-REPAS-ID-ACTIVITE,",
"    :WS-REPAS-TYPE,",
"    :WS-REPAS-NBREPAS",
"END-EXEC",
"IF SQLCODE NOT EQUAL ZERO AND SQLCODE NOT EQUAL 100",
"    DISPLAY 'ERREUR FETCH: SQLCODE=' SQLCODE",
"    MOVE 'Y' TO LK-END-OF-FILE",
"    EXEC SQL ROLLBACK END-EXEC",
"    GOBACK",
"END-IF",
"IF SQLCODE EQUAL 100",
"    MOVE 'Y' TO LK-END-OF-FILE",
"    GOBACK",
"END-IF",
"MOVE WS-REPAS-ID TO REPAS-ID OF LK-REPAS",
"MOVE WS-REPAS-ID-ACTIVITE TO REPAS-ID-ACTIVITE OF LK-REPAS",
"MOVE WS-REPAS-TYPE TO REPAS-TYPE OF LK-REPAS",
"MOVE WS-REPAS-NBREPAS TO REPAS-NBREPAS OF LK-REPAS"
]
```